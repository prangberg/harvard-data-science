---
title: "HarvardX: PH125.9x Professional Certificate in Data Science - Capstone MovieLens Project "
author: "Stefan Prangenberg"
date: "6/3/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

*The submission for the MovieLens project will be three files: a report in the form of an Rmd file, a report in the form of a PDF document knit from your Rmd file, and an R script or Rmd file that generates your predicted movie ratings and calculates RMSE.*

For this project, we create a movie recommendation system using the MovieLens dataset. The version of movielens included in the dslabs package is just a small subset of a much larger dataset with millions of ratings. We will  create a recommendation system using the 10M version of the MovieLens dataset.

## Table of Contents

## 1. Introduction/ overview/executive summary  
that describes the dataset and summarizes the goal of the project and key steps that were performed

The goal of this execise is to leverage movie ratings and machine learnings to create movie recommendations.

create a movie recommendation system 

by developing a machine learning
algorithm that predicts movie ratings.


## 2. Dataset

The GroupLens research lab (https://grouplens.org) created the MovieLens dataset which contains over 20 million ratings by more than 138.000 users for over 27,000 movies.
For this exercise we use a subset of 10 million records to analyse and generate our report. The 'MovieLens' dataset with 10 million records can be accessed at:  
â€¢ [MovieLens 10M dataset] https://grouplens.org/datasets/movielens/10m/  


###Create edx set and validation set

if(!require(tidyverse)) install.packages("tidyverse", repos = "http://cran.us.r-project.org")
if(!require(caret)) install.packages("caret", repos = "http://cran.us.r-project.org")

```{r}
# MovieLens 10M dataset:
##### https://grouplens.org/datasets/movielens/10m/
##### http://files.grouplens.org/datasets/movielens/ml-10m.zip
```

dl <- tempfile()
download.file("http://files.grouplens.org/datasets/movielens/ml-10m.zip", dl)

ratings <- read.table(text = gsub("::", "\t", readLines(unzip(dl, "ml-10M100K/ratings.dat"))),
                      col.names = c("userId", "movieId", "rating", "timestamp"))

movies <- str_split_fixed(readLines(unzip(dl, "ml-10M100K/movies.dat")), "\\::", 3)
colnames(movies) <- c("movieId", "title", "genres")
movies <- as.data.frame(movies) %>% mutate(movieId = as.numeric(levels(movieId))[movieId],
                                           title = as.character(title),
                                           genres = as.character(genres))

movielens <- left_join(ratings, movies, by = "movieId")
```{r}
# Validation set will be 10% of MovieLens data
```

set.seed(1) # if using R 3.6.0: set.seed(1, sample.kind = "Rounding")
test_index <- createDataPartition(y = movielens$rating, times = 1, p = 0.1, list = FALSE)
edx <- movielens[-test_index,]
temp <- movielens[test_index,]
```{r}
# Make sure userId and movieId in validation set are also in edx set
```

validation <- temp %>% 
     semi_join(edx, by = "movieId") %>%
     semi_join(edx, by = "userId")
```{r, echo=FALSE}
# Add rows removed from validation set back into edx set
```

removed <- anti_join(temp, validation)
edx <- rbind(edx, removed)
rm(dl, ratings, movies, test_index, temp, movielens, removed)



## 3. methods/analysis  

*that explains the process and techniques used, such as data cleaning, data exploration and visualization, any insights gained, and your modeling approach*

### 3.1 Data Cleaning
### 3.2 Data Exploration and Visualization
### 3.3 Modeling Approach

## 4. Results 

## 5. Conclusion 

## Including Plots

